<section class="background-overlay" [class.hidden]="!overlayState.isActive">
  <div class="content">
    <div class="overlay-contact">
      <div class="mobile-image">
        <img src="assets/img/add-contacts/user-image.svg" alt="">
      </div>
      <div class="d-flex">

        <div class="add-contact">
          <div class="mobile-close" (click)="toggleOverlay()">
            <img src="assets/img/add-contacts/mobile-close.svg"/>
          </div>
          <div class="center-contact">
            <img src="assets/img/add-contacts/join-logo.svg"/>
            <h2>Add contact</h2>
            <span>Task are better with a team!
              <div class="blue-line"></div>
            </span>
          </div>
        </div>
        
        <div class="user-data">
          <div class="close-image" (click)="toggleOverlay()">
            <img src="assets/img/add-contacts/Vector.svg"/>
          </div>
          <div class="user-image">
            <img src="assets/img/add-contacts/user-image.svg"/>
          </div>
          <div class="user-contact-data">


            <form class="contact-form" #contactForm="ngForm">
              @switch (overlayState.AddOrEditState) {
                @case ('addContact') {
                  <input [(ngModel)]="newContact.fullName" class="user" type="text" placeholder="Name" name="name" required pattern="[A-Za-zÄÖÜäöüß\s\-']{2,}" id="name" #name="ngModel" [class.invalid]=" name.invalid && name.dirty " />
                  <input [(ngModel)]="newContact.email" class="mail" type="email" placeholder="Email" name="email" required pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}" id="mail" #mail="ngModel" [class.invalid]=" mail.invalid && mail.dirty " />
                  <input [(ngModel)]="newContact.phone" class="phone" type="tel" placeholder="Phone" name="phone" required pattern="^\+?[0-9\s]{6,25}$" id="phone" #phone="ngModel" [class.invalid]=" phone.invalid && phone.dirty " />
                    
                } @case ('editContact') {
                  @if (overlayState.selectedUser) {
                  <input [(ngModel)]="overlayState.fullNameForEdit" class="user" type="text" placeholder="Name" name="name" required pattern="[A-Za-zÄÖÜäöüß\s\-']{2,}" id="name" #name="ngModel" [class.invalid]=" name.invalid && name.dirty " />
                  <input [(ngModel)]="overlayState.selectedUser.email" class="mail" type="email" placeholder="Email" name="email" required pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}" id="mail" #mail="ngModel" [class.invalid]=" mail.invalid && mail.dirty " />
                  <input [(ngModel)]="overlayState.selectedUser.phone" class="phone" type="tel" placeholder="Phone" name="phone" required pattern="^\+?[0-9\s]{6,25}$" id="phone" #phone="ngModel" [class.invalid]=" phone.invalid && phone.dirty " />

                  }
                }
              }
            </form>


            <div class="cancel-create-contact">
              <button class="cancel">
                <span>Cancel</span>
                <img src="assets/img/add-contacts/Vector.svg"/>
              </button>
              <button class="create"
                (click)="overlayState.addContacts(newContact); resetNewContactInput(); toggleOverlay()">
                <span>Create contact</span>
                <img src="assets/img/add-contacts/check.svg"/>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>